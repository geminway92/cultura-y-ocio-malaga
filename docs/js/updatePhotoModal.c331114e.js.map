{"version":3,"sources":["webpack:///./src/modules/updateProfile/components/UpdatePhotoModal.vue","webpack:///./src/modules/updateProfile/helper/getUpdatePhoto.js","webpack:///./src/modules/updateProfile/components/UpdatePhotoModal.vue?eab4","webpack:///./src/modules/updateProfile/components/UpdatePhotoModal.vue?b3dc"],"names":["class","type","value","openModalPhoto","$emit","updatePhoto","onSelectImage","getUpdatePhoto","file","formData","FormData","append","url","axios","post","data","console","log","secure_url","error","picture","props","Boolean","default","methods","event","target","files","resp","updateUser","user","idToken","profilePicture","changePhotoAction","ok","fire","position","icon","title","showConfirmButton","timer","message","confirmButtonColor","computed","__exports__","render"],"mappings":"+NAMWA,MAAM,S,uBAEL,eAAwB,UAApB,mBAAe,M,uBAEnB,eAA6D,SAAtDA,MAAM,gBAAgBC,KAAK,SAASC,MAAM,W,sDARjD,EAAAC,gB,iBADT,eAYM,O,MAVF,QAAK,iDAAYC,MAAK,4BACvBJ,MAAM,mB,CAEN,eAMM,MANN,EAMM,CALH,eAIO,QAJA,SAAM,iDAAeK,gBAAW,e,CACpC,EACA,eAAiE,SAA1DL,MAAM,cAAcC,KAAK,OAAQ,SAAM,8BAAE,EAAAK,eAAA,EAAAA,cAAA,sB,SAChD,G,6HCRNC,EAAc,yDAAG,WAAMC,GAAN,gGACfA,EADe,iEAIXC,EAAW,IAAIC,SACrBD,EAASE,OAAO,gBAAiB,gBACjCF,EAASE,OAAO,OAAQH,GAElBI,EAAM,yDARK,SASMC,IAAMC,KAAKF,EAAKH,GATtB,uBASTM,EATS,EASTA,KACRC,QAAQC,IAAIF,GAVK,kBAYVA,EAAKG,YAZK,4CAcjBF,QAAQG,MAAM,6BACdH,QAAQC,IAAR,MAfiB,kBAgBV,MAhBU,0DAAH,sDAoBLV,IDDA,GACZQ,KADY,WAET,MAAO,CACJK,QAAS,KAIfC,MAAO,CACJlB,eAAgB,CACbF,KAAMqB,QACNC,SAAS,IAIfC,QAAS,iCACH,eAAW,cAAe,CAAC,mBAAoB,uBAD9C,IAGElB,cAHA,SAGcmB,GAAO,uKAClBjB,EAAOiB,EAAMC,OAAOC,MAAM,GADR,SAEL,EAAenB,GAFV,OAElBoB,EAFkB,OAIxB,EAAKR,QAAUQ,EAJS,8CAOrBvB,YAVA,WAUc,uKACXwB,EAAa,EAAKC,KACxBD,EAAWE,QAAU,EAAKA,QAC1BF,EAAWG,eAAiB,EAAKZ,QAHhB,SAKE,EAAKa,kBAAkBJ,GALzB,OAKXD,EALW,OAMZA,EAAKM,GAOP,IAAKC,KAAK,CACPC,SAAU,SACVC,KAAM,UACNC,MAAO,iBACPC,mBAAmB,EACnBC,MAAO,OAXV,IAAKL,KAAK,CACPE,KAAM,QACNC,MAAOV,EAAKa,QACZC,mBAAoB,YAW1B,EAAKtC,MAAM,eArBM,gDAyBvBuC,SAAU,kBACJ,eAAS,OAAQ,CAAC,OAAQ,c,iCEhEnC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W","file":"js/updatePhotoModal.c331114e.js","sourcesContent":["<template>\r\n   <div\r\n      v-if=\"openModalPhoto\"\r\n      @click.self=\"this.$emit('changePhoto')\"\r\n      class=\"container-modal\"\r\n   >\r\n      <div class=\"modal\">\r\n         <form @submit.prevent=\"this.updatePhoto()\">\r\n            <h1>Actualizar foto</h1>\r\n            <input class=\"input-photo\" type=\"file\" @change=\"onSelectImage\" />\r\n            <input class=\"button-submit\" type=\"submit\" value=\"Cambiar\" />\r\n         </form>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex';\r\nimport Swal from 'sweetalert2';\r\nimport getUpdatePhoto from '../helper/getUpdatePhoto';\r\n\r\nexport default {\r\n   data() {\r\n      return {\r\n         picture: ''\r\n      };\r\n   },\r\n\r\n   props: {\r\n      openModalPhoto: {\r\n         type: Boolean,\r\n         default: false\r\n      }\r\n   },\r\n\r\n   methods: {\r\n      ...mapActions('updateStore', ['changeNameAction', 'changePhotoAction']),\r\n\r\n      async onSelectImage(event) {\r\n         const file = event.target.files[0];\r\n         const resp = await getUpdatePhoto(file);\r\n\r\n         this.picture = resp;\r\n      },\r\n\r\n      async updatePhoto() {\r\n         const updateUser = this.user;\r\n         updateUser.idToken = this.idToken;\r\n         updateUser.profilePicture = this.picture;\r\n\r\n         const resp = await this.changePhotoAction(updateUser);\r\n         if (!resp.ok)\r\n            Swal.fire({\r\n               icon: 'error',\r\n               title: resp.message,\r\n               confirmButtonColor: '#B128C3'\r\n            });\r\n         else\r\n            Swal.fire({\r\n               position: 'center',\r\n               icon: 'success',\r\n               title: 'Cambio exitoso',\r\n               showConfirmButton: false,\r\n               timer: 1500\r\n            });\r\n\r\n         this.$emit('changePhoto');\r\n      }\r\n   },\r\n\r\n   computed: {\r\n      ...mapState('auth', ['user', 'idToken'])\r\n   }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n   width: 80%;\r\n   display: flex;\r\n   flex-direction: column;\r\n   gap: 0.5em;\r\n}\r\n\r\nh1 {\r\n   margin-bottom: 0;\r\n}\r\n\r\nh4 {\r\n   margin: 0;\r\n   color: #b128c3;\r\n}\r\n\r\n.container-modal {\r\n   background-color: rgba(116, 111, 111, 0.295);\r\n   position: absolute;\r\n   width: 100vw;\r\n   height: 100vh;\r\n   z-index: 5;\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n}\r\n\r\n.modal {\r\n   display: flex;\r\n   justify-content: center;\r\n   width: 300px;\r\n   height: 150px;\r\n   background-color: #ffffff;\r\n   border-radius: 15px;\r\n   box-shadow: 2px 3px 5px grey;\r\n}\r\n\r\n.title-name {\r\n   margin: 0em 0.8em 0.3em;\r\n   text-align: start;\r\n   font-size: 1em;\r\n}\r\n\r\n.input-photo {\r\n   width: 90%;\r\n   height: 30px;\r\n   border: none;\r\n   margin: auto;\r\n}\r\n\r\n.input-name:focus {\r\n   outline: none;\r\n   border-bottom: 2px solid var(--colorPrimary);\r\n}\r\n\r\n.button-submit {\r\n   background-color: #b128c3;\r\n   width: 80px;\r\n   border: none;\r\n   border-radius: 15px;\r\n   padding: 0.7em;\r\n   color: white;\r\n   margin: auto;\r\n}\r\n</style>\r\n","import axios from 'axios';\r\n\r\nconst getUpdatePhoto = async file => {\r\n   if (!file) return;\r\n\r\n   try {\r\n      const formData = new FormData();\r\n      formData.append('upload_preset', 'photoProfile');\r\n      formData.append('file', file);\r\n\r\n      const url = 'https://api.cloudinary.com/v1_1/ddn278n2q/image/upload';\r\n      const { data } = await axios.post(url, formData);\r\n      console.log(data);\r\n\r\n      return data.secure_url;\r\n   } catch (error) {\r\n      console.error('Error al cargar la imagen');\r\n      console.log(error);\r\n      return null;\r\n   }\r\n};\r\n\r\nexport default getUpdatePhoto;\r\n","import { render } from \"./UpdatePhotoModal.vue?vue&type=template&id=23e7145a&scoped=true\"\nimport script from \"./UpdatePhotoModal.vue?vue&type=script&lang=js\"\nexport * from \"./UpdatePhotoModal.vue?vue&type=script&lang=js\"\n\nimport \"./UpdatePhotoModal.vue?vue&type=style&index=0&id=23e7145a&scoped=true&lang=css\"\n\nimport exportComponent from \"/mnt/c/Users/gemin/Desktop/Proyectos vue/cultura-y-ocio/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23e7145a\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UpdatePhotoModal.vue?vue&type=style&index=0&id=23e7145a&scoped=true&lang=css\""],"sourceRoot":""}